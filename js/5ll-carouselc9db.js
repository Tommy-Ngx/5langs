$((function(){var s=null,t=null,e=$(window).width()>767;$(".fll-carousel-container:not(.quiz-carousel-container)").each((function(s){if(!(e&&$(this).find(".desktop-noscroll").length>0||$(this).find(".fll-carousel .carousel-item").length<=1)){var t=1;e&&($(this).find(".fll-carousel").hasClass("desktop-2-wide")?t=2:$(this).find(".fll-carousel").hasClass("desktop-3-wide")?t=3:$(this).find(".fll-carousel").hasClass("desktop-4-wide")&&(t=4));for(var i=[],a=[],o=1;o<=t;o++){var l=$(this).find(".carousel-item:nth-child("+o+")"),n=$(this).find(".carousel-item:nth-last-child("+o+")"),r=l[0].cloneNode(!0),c=n[0].cloneNode(!0);$(r).addClass("cloned"),$(c).addClass("cloned"),a.push(r),i.push(c)}var d=i.reverse(),u=$(this).find(".carousel-items .carousel-item").length-(t-1);$(this).find(".carousel-items").prepend(d).append(a).data("index",t),$(this).find(".carousel-indicators .carousel-indicator-animated").css("width",1/u*100+"%")}}));for(var i=document.querySelectorAll(".fll-carousel .carousel-item"),a=0;a<i.length;a++)i[a].addEventListener("touchstart",o,!1),i[a].addEventListener("touchmove",l,!1);function o(e){const i=function(s){return s.touches||s.originalEvent.touches}(e)[0];s=i.clientX,t=i.clientY}function l(e){if(s&&t){var i=e.touches[0].clientX,a=e.touches[0].clientY,o=s-i,l=t-a;s=null,t=null,Math.abs(o)>Math.abs(l)&&(e.preventDefault(),o>0?$(this).closest(".fll-carousel").find(".carousel-nav .nav-arrow-right").click():$(this).closest(".fll-carousel").find(".carousel-nav .nav-arrow-left").click())}}function n(s){s=s||!1;var t=$(window).width()>767;$(".fll-carousel-container").each((function(e){s&&$(this).addClass("no-animation");var i=$(this).find(".carousel-item").width(),a=t?20:10;if($(this).find(".desktop-noscroll").length>0&&t){$(this).find(".carousel-item").width();return $(this).find(".carousel-items .carousel-item:not(.cloned)").css({opacity:1,pointerEvents:"auto"}),$(this).find(".carousel-items .carousel-item.cloned").css({opacity:0,pointerEvents:"none"}),void $(this).find(".carousel-items").css("transform","translate3d(0, 0, 0)")}var o=$(this).find(".fll-carousel").hasClass("quiz-carousel"),l=$(this).find(".fll-carousel").hasClass("quiz-outcome-carousel"),n=$(this).find(".carousel-items").data("index"),r=$(this).find(".carousel-item").length,c=!0,d=1;if(($(this).find(".desktop-2-wide").length>0||$(this).find(".desktop-3-wide").length>0||$(this).find(".desktop-4-wide").length>0)&&($(this).find(".desktop-2-wide").length>0?d=2:$(this).find(".desktop-3-wide").length>0?d=3:$(this).find(".desktop-4-wide").length>0&&(d=4),c=!1),$(this).find(".carousel-items .carousel-item").each((function(s){var e={transform:"translateX("+(s*i+0*s)+"px)",opacity:0};o?e.opacity=s==n?1:0:t?c?s==n&&(e.opacity=1):r==n+1?(s==n||s>n-d)&&(e.opacity=1):(s==n||s>n&&s<n+d)&&(e.opacity=1):e.opacity=1,e.pointerEvents=1===e.opacity?"auto":"none",$(this).css(e)})),n>0)if(!c&&t){var u=n+1==r?n-1:n;$(this).find(".carousel-items").css("transform","translate3d(-"+u*(i+a)+"px, 0, 0)")}else $(this).find(".carousel-items").css("transform","translate3d(-"+n*(i+a)+"px, 0, 0)");if(s){var f=$(this);setTimeout((function(){$(f).removeClass("no-animation")}))}else if(l){var h=n;$(this).find(".carousel-item:nth-child("+(n+1)+")").hasClass("cloned")&&(h=$(this).find(".carousel-item:nth-child("+(n+1)+")").is(":last-child")?0:$(this).find(".carousel-item:not('.cloned')").length-1),$("#quiz-results-page .results-card .results-list .mobile-result-tab").removeClass("active"),$("#quiz-results-page .results-card .results-list .mobile-result-tab:eq("+(h-1)+")").addClass("active")}}))}function r(s,t,e,i,a,o,l,n,r,c,d,u,f){var h=0,m=0,p={};if(i>1&&l)e+i-1<$(s).find(".carousel-item").length&&(t+1==$(s).find(".carousel-item").length&&i>1&&(e=n?0:e-1),n?($(s).find(".carousel-items .carousel-item:nth-child("+(t+1)+")").css({opacity:0,pointerEvents:"none"}),$(s).find(".carousel-items .carousel-item:nth-child("+(e+i)+")").css({opacity:1,pointerEvents:"auto"})):($(s).find(".carousel-items .carousel-item:nth-child("+(t+i)+")").css({opacity:0,pointerEvents:"none"}),$(s).find(".carousel-items .carousel-item:nth-child("+(e+1)+")").css({opacity:1,pointerEvents:"auto"})),d||(e<i&&e>0?(h=e/i/o*100,m=(i-e)/i/o*100,p={width:0,left:0,right:"auto"}):e>a&&e<a+i?(m=(a+i-e)/i/o*100,h=(i-(a+i-e))/i/o*100,p={width:0,right:0,left:"auto"}):p=0==e?{width:1/o*100+"%",left:"auto",right:0}:e==a+i?{width:1/o*100+"%",left:0,right:"auto"}:{width:1/o*100+"%",right:"auto",left:(e-i)/o*100+"%"}),$(s).find(".carousel-items").css("transform","translate3d(-"+(e*u+e*f)+"px, 0, 0)"));else{if((l||d)&&($(s).find(".carousel-items .carousel-item:nth-child("+(t+1)+")").css({opacity:0,pointerEvents:"none"}),$(s).find(".carousel-items .carousel-item:nth-child("+(e+1)+")").css({opacity:1,pointerEvents:"auto"})),!d){var v=1/a*100;p=e<i?{width:v+"%",left:(a-e-1)*v+"%",right:"auto"}:e>a&&e<a+i?{width:v+"%",right:0,left:"auto"}:e==a+i?{width:v+"%",left:0,right:"auto"}:{width:v+"%",right:"auto",left:(e-i)/a*100+"%"}}$(s).find(".carousel-items").css("transform","translate3d(-"+(e*u+e*f)+"px, 0, 0)")}d||($(s).find(".carousel-indicators .carousel-indicator-animated").css(p),$(s).find(".carousel-indicators .carousel-indicator-animated-right-part").css({width:m+"%"}),$(s).find(".carousel-indicators .carousel-indicator-animated-left-part").css({width:h+"%"})),$(s).find(".carousel-items").data("index",e)}n(!0),$(window).resize((function(){n()})),$(document).on("click",".desktop-carousel-arrow",(function(s){if(s.preventDefault(),s.stopPropagation(),$(this).hasClass("disabled"))return!1;$(this).hasClass("desktop-arrow-left")?$(this).closest(".fll-carousel").find(".carousel-nav .nav-arrow-left").click():$(this).closest(".fll-carousel").find(".carousel-nav .nav-arrow-right").click()})),$(document).on("click",".carousel-nav .nav-arrow",(function(s){if(s.preventDefault(),s.stopPropagation(),$(this).hasClass("disabled"))return!1;var t=$(window).width()>767,e=$(this).closest(".fll-carousel"),i=$(e).hasClass("quiz-carousel"),a=$(e).hasClass("quiz-outcome-carousel"),o=$(e).find(".carousel-items").data("index"),l=o,n=$(e).find(".carousel-item").length,c=1;t&&$(e).hasClass("desktop-2-wide")?c=2:t&&$(e).hasClass("desktop-3-wide")?c=3:t&&$(e).hasClass("desktop-4-wide")&&(c=4);var d=n-(c-1),u=n-2*c,f=u-(c-1),h=!0,m=!1,p=!1,v=$(e).find(".carousel-item").width(),w=t?20:10;if($(this).hasClass("nav-arrow-left")){if(h=!1,i||o>0||!t&&o>1)--l!==o&&r(e,o,l,c,u,f,t,h,m,p,i,v,w);else if(!i){if(p=!0,l=(t?d-c:n-c)-1,$(e).closest(".fll-carousel-container").addClass("no-animation"),$(e).find(".carousel-items").css("transform","translate3d(-"+(l*v+l*w)+"px, 0, 0)"),t){$(e).find(".carousel-items .carousel-item").css({opacity:0,pointerEvents:"none"});for(let s=n-c;s>n-2*c;s--)$(e).find(".carousel-items .carousel-item:nth-child("+s+")").css({opacity:1,pointerEvents:"auto"})}$(e).find(".carousel-items").data("index",l),o=l,l--,setTimeout((function(){$(e).closest(".fll-carousel-container").removeClass("no-animation"),r(e,o,l,c,u,f,t,h,m,p,i,v,w)}),10)}}else if(i||t&&o<n-1&&o<d-1||!t&&o<n-2)++l!==o&&r(e,o,l,c,u,f,t,h,m,p,i,v,w);else if(!i){if(m=!0,l=t?c>1?c:1:0,$(e).closest(".fll-carousel-container").addClass("no-animation"),l>0?$(e).find(".carousel-items").css("transform","translate3d(-"+(c*v+c*w)+"px, 0, 0)"):$(e).find(".carousel-items").css("transform","translate3d(0, 0, 0)"),t){$(e).find(".carousel-items .carousel-item").css({opacity:0,pointerEvents:"none"});for(let s=c+1;s<=2*c;s++)$(e).find(".carousel-items .carousel-item:nth-child("+s+")").css({opacity:1,pointerEvents:"auto"})}$(e).find(".carousel-items").data("index",l),o=l,l++,setTimeout((function(){$(e).closest(".fll-carousel-container").removeClass("no-animation"),r(e,o,l,c,u,f,t,h,m,p,i,v,w)}),10)}a&&!t&&($("#quiz-results-page .results-card .results-list .mobile-result-tab").removeClass("active"),$("#quiz-results-page .results-card .results-list .mobile-result-tab:eq("+(l-1)+")").addClass("active"))})),$(document).on("click",".mobile-result-tab",(function(s){var t=$(this).index()/2+1;$(this).closest(".results-list").find(".active").removeClass("active"),$(this).addClass("active"),$("#quiz-results-page .results-card").closest(".container").next(".fll-carousel-container").find(".carousel-items").data("index",t),setTimeout((()=>{n()}))}))}));